"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const defaultHeight = 200;
function doLayout(itemsHeight, props) {
    const { columns, columnWidth, gutterWidth, gutterHeight } = props;
    // create an array to record each column's total height.
    const columnHeights = Array.from(new Float32Array(columns));
    const positions = itemsHeight.map((itemHeight) => {
        const index = columnHeights.indexOf(Math.min.apply(null, columnHeights));
        // if height is not provided, use default height.
        const height = itemHeight || defaultHeight;
        const x = index * columnWidth + index * gutterWidth;
        const y = columnHeights[index];
        columnHeights[index] += Math.round(height) + gutterHeight;
        return [x, y];
    });
    const gridWidth = columns * columnWidth + (columns - 1) * gutterWidth;
    const gridHeight = Math.max.apply(null, columnHeights) - gutterHeight;
    return { positions, gridWidth, gridHeight };
}
exports.default = doLayout;
